<script type="text/javascript">
    function confirm(target, msg, url, param_name, callback) {
        $(target).click(function () {
            var source = this;

            $("#confirmWnd").text(msg);
            $("#confirmWnd").dialog({
                resizable: false,
                height: 140,
                modal: true,
                buttons: {
                    "确认": function () {
                        var data = {};
                        data[param_name] = $(source).data(param_name);

                        $.post(url, data, function (data) {
                            callback(data);
                            $("#confirmWnd").dialog("close");
                        });
                    },
                    "取消": function () {
                        $(this).dialog("close");
                    }
                }
            });
        });
    }

    function deleteConfirm(target, msg, url, item_prefix) {
        confirm(target, msg, url, "id", function (data) {
            if (data.success == true) {
                if (item_prefix != null) {
                    $(item_prefix + data.idToDelete).fadeOut("slow");
                } else {
                    $("#row-" + data.idToDelete).fadeOut("slow");
                }
            }
        });
    }
</script>

<div id="confirmWnd" hidden></div>